# Byte Dashboard v1 - Product Vision & Architecture

**Last Updated:** February 6, 2026
**Status:** Active Development - Frontend Foundation Complete, Backend Pending

---

## Core Identity

**Byte Dashboard** is a **lightweight workflow management system** designed for tracking people through multi-stage processes. Initially built for government agencies (Fayette County Sheriff's Office) to manage job applicant tracking, it's architected as a general-purpose workflow platform expandable to nonprofits and other organizations as a modern Site Stacker alternative.

### The Problem It Solves

Organizations need to:
- Ingest applications/submissions from online forms (Formstack)
- Track people through multi-stage review processes (background checks, interviews, approvals)
- Manage tasks associated with each workflow instance
- Handle documents/assets throughout the process
- Maintain visibility into pipeline status
- Support multiple organizations (multi-tenant)

### Workflow Types (Examples)

- Job Application Process (original use case)
- Employee Onboarding
- Grant Application Review
- Vendor Onboarding
- Support Request Tracking
- Contract Review Process
- Volunteer Management

---

## V1 Philosophy: Radical Simplification

The previous codebase had **65 tables, 325 migrations, 252-file workflow builder**â€”an AI-generated prototype that spiraled into enterprise complexity.

**V1 is a complete reset** focusing on:
- **Simple over complex** - Hardcode things initially, add configurability later
- **JSONB for flexibility** - Custom fields, metadata, status configs in JSONB columns
- **Build what's needed** - Not what might be needed someday
- **9-11 tables instead of 65**

---

## Mental Model

```
Contact (person/entity)
    â””â”€â”€ Workflow (instance of a process)
            â”œâ”€â”€ Tasks (steps to complete)
            â””â”€â”€ Assets (documents, files)
```

**That's it.** Everything else is configuration or metadata.

---

## Data Model (10-11 Tables)

### Entity Relationship Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Clerk       â”‚
â”‚  Organizations  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ org_id
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     users       â”‚      â”‚ workflow_       â”‚
â”‚  (Clerk sync)   â”‚      â”‚ templates       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                        â”‚
         â”‚ assigned_to            â”‚ template_id
         â”‚                        â”‚
         â–¼                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     tasks       â”‚â—„â”€â”€â”€â”€â”€â”‚   workflows     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                 â”‚                 â”‚
                â–¼                 â–¼                 â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  contacts   â”‚   â”‚   assets    â”‚  â”‚    notes    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Core Tables

#### `users` (Clerk sync)
```sql
CREATE TABLE users (
  id            TEXT PRIMARY KEY,        -- Clerk user ID
  org_id        TEXT NOT NULL,           -- Clerk org ID
  email         TEXT NOT NULL,
  first_name    TEXT,
  last_name     TEXT,
  role          TEXT DEFAULT 'user',     -- owner, admin, user
  created_at    TIMESTAMPTZ DEFAULT NOW(),
  updated_at    TIMESTAMPTZ DEFAULT NOW()
);
```

#### `contacts`
```sql
CREATE TABLE contacts (
  id              UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  org_id          TEXT NOT NULL,
  first_name      TEXT NOT NULL,
  last_name       TEXT NOT NULL,
  email           TEXT,
  phone           TEXT,
  address_line_1  TEXT,
  address_line_2  TEXT,
  city            TEXT,
  state           TEXT,
  zip             TEXT,
  metadata        JSONB DEFAULT '{}',    -- custom fields
  tags            TEXT[] DEFAULT '{}',   -- simple array
  created_at      TIMESTAMPTZ DEFAULT NOW(),
  updated_at      TIMESTAMPTZ DEFAULT NOW()
);
```

#### `workflow_templates`
```sql
CREATE TABLE workflow_templates (
  id          UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  org_id      TEXT NOT NULL,
  name        TEXT NOT NULL,              -- "Job Application Process"
  description TEXT,
  category    TEXT,                       -- "hiring", "onboarding", "grants"
  statuses    JSONB NOT NULL DEFAULT '[]', -- ordered array of status objects
  is_active   BOOLEAN DEFAULT true,
  created_at  TIMESTAMPTZ DEFAULT NOW(),
  updated_at  TIMESTAMPTZ DEFAULT NOW()
);

-- Example statuses JSONB:
-- [
--   {"key": "submitted", "label": "Submitted", "color": "gray"},
--   {"key": "under_review", "label": "Under Review", "color": "blue"},
--   {"key": "background_check", "label": "Background Check", "color": "yellow"},
--   {"key": "interview", "label": "Interview", "color": "purple"},
--   {"key": "approved", "label": "Approved", "color": "green"},
--   {"key": "rejected", "label": "Rejected", "color": "red"}
-- ]
```

#### `workflows` (was "applications")
```sql
CREATE TABLE workflows (
  id                  UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  org_id              TEXT NOT NULL,
  contact_id          UUID NOT NULL REFERENCES contacts(id),
  template_id         UUID REFERENCES workflow_templates(id),
  status              TEXT NOT NULL DEFAULT 'draft',
  current_stage       TEXT,
  source              TEXT DEFAULT 'manual',  -- manual, formstack, api
  source_id           TEXT,                   -- external reference ID
  submitted_at        TIMESTAMPTZ,
  metadata            JSONB DEFAULT '{}',
  created_at          TIMESTAMPTZ DEFAULT NOW(),
  updated_at          TIMESTAMPTZ DEFAULT NOW()
);
```

#### `tasks`
```sql
CREATE TABLE tasks (
  id              UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  org_id          TEXT NOT NULL,
  workflow_id     UUID REFERENCES workflows(id),
  contact_id      UUID REFERENCES contacts(id),
  assigned_to     TEXT REFERENCES users(id),
  title           TEXT NOT NULL,
  description     TEXT,
  status          TEXT NOT NULL DEFAULT 'todo',  -- todo, in_progress, done
  priority        TEXT DEFAULT 'medium',         -- low, medium, high
  due_date        DATE,
  completed_at    TIMESTAMPTZ,
  created_at      TIMESTAMPTZ DEFAULT NOW(),
  updated_at      TIMESTAMPTZ DEFAULT NOW()
);
```

#### `assets` (NEW - Document Management)
```sql
CREATE TABLE assets (
  id              UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  org_id          TEXT NOT NULL,
  workflow_id     UUID REFERENCES workflows(id) ON DELETE CASCADE,
  contact_id      UUID REFERENCES contacts(id),    -- can attach to contact
  task_id         UUID REFERENCES tasks(id),       -- or to specific task

  file_name       TEXT NOT NULL,
  file_size       INTEGER,                         -- bytes
  file_type       TEXT,                            -- pdf, docx, jpg, etc.
  mime_type       TEXT,                            -- application/pdf

  storage_provider TEXT DEFAULT 'vercel',          -- vercel, s3, r2
  storage_key      TEXT NOT NULL,                  -- blob key or S3 key
  storage_url      TEXT,                           -- public URL if applicable

  uploaded_by     TEXT REFERENCES users(id),
  uploaded_at     TIMESTAMPTZ DEFAULT NOW(),

  metadata        JSONB DEFAULT '{}',              -- tags, description, category

  created_at      TIMESTAMPTZ DEFAULT NOW()
);
```

#### `notes`
```sql
CREATE TABLE notes (
  id          UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  org_id      TEXT NOT NULL,
  entity_type TEXT NOT NULL,  -- 'workflow', 'contact', 'task'
  entity_id   UUID NOT NULL,
  user_id     TEXT NOT NULL REFERENCES users(id),
  content     TEXT NOT NULL,
  is_internal BOOLEAN DEFAULT true,
  created_at  TIMESTAMPTZ DEFAULT NOW()
);
```

#### `activity_log`
```sql
CREATE TABLE activity_log (
  id          UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  org_id      TEXT NOT NULL,
  user_id     TEXT REFERENCES users(id),
  entity_type TEXT NOT NULL,  -- 'workflow', 'contact', 'task'
  entity_id   UUID NOT NULL,
  action      TEXT NOT NULL,  -- 'created', 'updated', 'deleted', 'status_changed'
  details     JSONB DEFAULT '{}',
  created_at  TIMESTAMPTZ DEFAULT NOW()
);
```

#### `formstack_config`
```sql
CREATE TABLE formstack_config (
  id              UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  org_id          TEXT NOT NULL UNIQUE,
  webhook_secret  TEXT,
  field_mappings  JSONB DEFAULT '{}',  -- maps Formstack field IDs to our fields
  default_template_id UUID REFERENCES workflow_templates(id),
  is_active       BOOLEAN DEFAULT true,
  created_at      TIMESTAMPTZ DEFAULT NOW(),
  updated_at      TIMESTAMPTZ DEFAULT NOW()
);
```

#### `formstack_submissions`
```sql
CREATE TABLE formstack_submissions (
  id              UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  org_id          TEXT NOT NULL,
  form_id         TEXT NOT NULL,
  submission_id   TEXT NOT NULL,
  raw_payload     JSONB NOT NULL,
  processed       BOOLEAN DEFAULT false,
  workflow_id     UUID REFERENCES workflows(id),
  error           TEXT,
  created_at      TIMESTAMPTZ DEFAULT NOW()
);
```

---

## Technical Stack

| Layer | Technology | Notes |
|-------|-----------|-------|
| Framework | Next.js 16.1.6 | App Router, React Server Components |
| React | 19.2.3 | Latest stable |
| Language | TypeScript 5 | Strict mode |
| Auth | Clerk | Organizations for multi-tenant |
| Database | Neon PostgreSQL | Serverless Postgres |
| API/Backend | Railway | Edge functions, API routes |
| ORM | Drizzle | TypeScript-first (not implemented yet) |
| Styling | Tailwind CSS 4 | CSS variables for theming |
| UI Components | shadcn/ui + Radix | Accessible primitives |
| State Management | TanStack Query | Server state (not implemented yet) |
| Forms | React Hook Form + Zod | Validation (not implemented yet) |
| File Storage | Vercel Blob | For v1, migrate to R2 later |
| Deployment | Vercel (frontend) + Railway (backend) | |

---

## Frontend Structure (Current)

```
frontend/
â”œâ”€â”€ app/                         # Next.js App Router
â”‚   â”œâ”€â”€ (dashboard)/            # Route group with shared layout
â”‚   â”‚   â”œâ”€â”€ layout.tsx          # Sidebar + top navigation
â”‚   â”‚   â”œâ”€â”€ dashboard/          # Main dashboard view
â”‚   â”‚   â”œâ”€â”€ workflows/          # Workflow management (was "applications")
â”‚   â”‚   â”œâ”€â”€ people/             # Contact/people management
â”‚   â”‚   â”œâ”€â”€ tasks/              # Task management
â”‚   â”‚   â”œâ”€â”€ my-work/            # Personal work view
â”‚   â”‚   â”œâ”€â”€ calendar/           # Calendar view
â”‚   â”‚   â”œâ”€â”€ support/            # Support section
â”‚   â”‚   â””â”€â”€ admin/              # Admin section
â”‚   â”‚       â”œâ”€â”€ settings/       # Settings with tab-based sub-navigation
â”‚   â”‚       â”‚   â”œâ”€â”€ layout.tsx  # Shared tabs for all settings pages
â”‚   â”‚       â”‚   â”œâ”€â”€ general/
â”‚   â”‚       â”‚   â”œâ”€â”€ billing/
â”‚   â”‚       â”‚   â”œâ”€â”€ users/
â”‚   â”‚       â”‚   â”œâ”€â”€ integrations/
â”‚   â”‚       â”‚   â”œâ”€â”€ audit/
â”‚   â”‚       â”‚   â”œâ”€â”€ crm/
â”‚   â”‚       â”‚   â””â”€â”€ customizations/
â”‚   â”‚       â””â”€â”€ workflow-blueprints/  # Manage workflow templates
â”‚   â”œâ”€â”€ globals.css             # Tailwind v4 imports + CSS variables
â”‚   â””â”€â”€ layout.tsx              # Root layout with theme provider
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                     # shadcn/ui components (DO NOT edit)
â”‚   â”œâ”€â”€ layout/                 # app-sidebar, page-header
â”‚   â”œâ”€â”€ data-table/             # Reusable DataTable with TanStack Table
â”‚   â”œâ”€â”€ workflows/              # Workflow-specific components
â”‚   â”œâ”€â”€ contacts/               # Contact-specific components
â”‚   â”œâ”€â”€ tasks/                  # Task-specific components
â”‚   â”œâ”€â”€ assets/                 # Asset/document components (NEW)
â”‚   â”œâ”€â”€ kanban/                 # Kanban board with dnd-kit
â”‚   â”œâ”€â”€ dashboard/              # Dashboard widgets
â”‚   â”œâ”€â”€ detail/                 # Detail page components
â”‚   â””â”€â”€ common/                 # Shared presentational components
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ data/                   # Mock data for development
â”‚   â”‚   â”œâ”€â”€ workflows.ts        # (was applications.ts)
â”‚   â”‚   â”œâ”€â”€ contacts.ts
â”‚   â”‚   â”œâ”€â”€ tasks.ts
â”‚   â”‚   â”œâ”€â”€ activity.ts
â”‚   â”‚   â””â”€â”€ settings.ts
â”‚   â”œâ”€â”€ design-tokens.ts        # Semantic color mappings
â”‚   â”œâ”€â”€ status-config.ts        # Badge variants for statuses/priorities
â”‚   â””â”€â”€ utils.ts                # Utility functions (cn, etc.)
â”œâ”€â”€ types/
â”‚   â””â”€â”€ index.ts                # TypeScript types for all domain models
â”œâ”€â”€ hooks/                      # Custom React hooks
â””â”€â”€ middleware.ts               # Clerk authentication (DELETED - needs restoration)
```

---

## V1 Scope

### âœ… In Scope

#### 1. Foundation (âœ“ Complete)
- [x] Next.js 16 project initialized
- [x] Clerk authentication integrated
- [x] Basic role system (Admin, Member, Viewer)
- [x] Layout with sidebar navigation
- [x] Tailwind CSS v4 + shadcn/ui components
- [x] Theme switching (light/dark)
- [ ] Middleware for Clerk route protection (needs restoration)

#### 2. Contacts Module
- [ ] Contact list page (table with search/filter)
- [ ] Contact detail page
- [ ] Create contact form
- [ ] Edit contact
- [ ] Delete contact with confirmation

#### 3. Workflows Module (was Applications)
- [ ] Workflow list page (table with filters)
- [ ] Workflow detail page
- [ ] Create workflow (manual)
- [ ] Edit workflow
- [ ] Status field with dropdown
- [ ] Link workflow to contact
- [ ] Simple status progression (config-based, not visual builder)

#### 4. Tasks & Kanban
- [ ] Task list page
- [ ] Create task form
- [ ] Assign task to user
- [ ] Due date picker
- [ ] Task status (todo, in_progress, done)
- [ ] Link task to workflow or contact
- [ ] Kanban board view
- [ ] Drag-and-drop between columns

#### 5. Assets/Documents (NEW)
- [ ] Upload documents to workflows
- [ ] Upload documents to contacts
- [ ] Attach documents to tasks
- [ ] File list with thumbnails
- [ ] Preview documents (PDF, images)
- [ ] Download documents
- [ ] Delete documents
- [ ] Basic metadata (tags, descriptions)
- [ ] Vercel Blob storage integration

#### 6. Dashboard
- [ ] Workflow count by status (pie/bar chart)
- [ ] Recent workflows list
- [ ] My tasks widget
- [ ] Workflows over time (line chart)
- [ ] Activity feed widget

#### 7. Calendar
- [ ] Calendar view displays tasks by due date
- [ ] Month/week views
- [ ] Link to task details

#### 8. Settings
- [x] Settings page structure with tabs
- [ ] General settings (org info, preferences)
- [ ] User management (invite, edit, remove)
- [ ] Billing & plans (view/upgrade)
- [ ] Integrations (Formstack config)
- [ ] Audit logs (activity history)
- [ ] Workflow templates management

#### 9. Formstack Integration
- [ ] API route for Formstack webhook
- [ ] Webhook signature verification
- [ ] Field mapping config
- [ ] Create contact from submission
- [ ] Create workflow from submission
- [ ] Log ingestion in activity_log

#### 10. Data & Exports
- [ ] CSV export for workflows
- [ ] CSV export for contacts
- [ ] Basic PDF report (workflow summary)

### âŒ Explicitly Out of Scope

Features deferred to post-v1:

- Visual drag-and-drop workflow builder
- Dynamic form builder
- AI assistant (BYTE)
- Payment processing / Stripe integration
- Advanced document features (OCR, version control, e-signatures)
- Email notifications system
- Calendar integrations (Google/Outlook sync)
- Advanced integrations beyond Formstack
- Bulk import/export
- Custom fields UI (use JSONB for now)
- Advanced reporting / analytics
- Real-time collaboration
- Mobile app
- Production deployment optimization
- Comprehensive test coverage

---

## Success Criteria

MVP is complete when:

1. âœ… New org can sign up via Clerk
2. âœ… Formstack webhook creates workflows automatically
3. âœ… Users can view/manage workflows and contacts
4. âœ… Documents can be uploaded and attached to workflows
5. âœ… Tasks can be created, assigned, and tracked via Kanban
6. âœ… Dashboard shows pipeline overview
7. âœ… Data can be exported to CSV
8. âœ… All data is properly scoped to organization
9. âœ… No cross-tenant data leakage

---

## Timeline & Deliverables

**Total Duration:** 2 weeks (30 hours)

### Phase 1: Foundation (Week 1, 15 hours)

#### P1-A: Foundation Setup & Authentication
- [x] Next.js 16 project initialized
- [x] Clerk authentication integrated
- [x] Users can sign up, sign in, manage profile
- [x] Basic role system (Admin, Member, Viewer)
- [x] Layout with sidebar navigation
- [ ] Middleware for org-scoped routes

#### P1-B: Database Schema & Base Components
- [ ] Neon database configured
- [ ] Drizzle schema setup (10-11 tables)
- [ ] Initial migrations
- [ ] Database connection utilities
- [x] Base UI components library (shadcn/ui)
- [x] Data table component with sorting/filtering

### Phase 2: Core CRUD (Week 1-2, 15 hours)

#### P2-A: Contacts/People Module
- [ ] Contact list view with data table
- [ ] Contact detail page
- [ ] Add/edit contact forms
- [ ] Search and filter by name, email, status
- [ ] Contact deletion with confirmation
- [ ] All CRUD operations persist to database

#### P2-B: Workflows Module (was Applications)
- [ ] Workflow list view with status filters
- [ ] Workflow detail page (shows linked contact)
- [ ] Add/edit workflow forms
- [ ] Simple status workflow
- [ ] Workflows linked to contacts correctly
- [ ] Status change tracking

### Phase 3: Tasks & Features (Week 2, 15 hours)

#### P3-A: Tasks & Kanban Board
- [ ] Kanban board displays tasks by status
- [ ] Drag-and-drop to change task status
- [ ] Add/edit/delete tasks
- [ ] Assign tasks to users
- [ ] Task filtering by assignee
- [ ] All task data persists correctly

#### P3-B: Dashboard & Assets
- [ ] Dashboard displays key metrics
- [ ] Recent activity feed
- [ ] Quick action buttons
- [ ] Statistics update with data changes
- [ ] **Assets upload/download/delete**
- [ ] **File preview (PDF, images)**
- [ ] **Assets attached to workflows/contacts**

### Phase 4: Polish & Integration (Week 2, 15 hours)

#### P4-A: Calendar & Settings
- [ ] Calendar view displays tasks by due date
- [ ] Month/week views functional
- [ ] Settings pages (general, users, billing)
- [ ] User management (invite/edit/remove)
- [ ] General settings persist correctly

#### P4-B: Formstack Integration & Testing
- [ ] Formstack webhook endpoint
- [ ] Field mapping configuration
- [ ] Auto-create contact + workflow from submission
- [ ] All CRUD operations tested
- [ ] Core user flows functional
- [ ] Code documented
- [ ] README with setup instructions

---

## Key Architecture Decisions

### 1. Simple Workflows
No visual builder. Workflows are just status sequences stored in JSONB:

```typescript
// The entire "workflow engine" is ~50 lines
async function completeTask(taskId: string) {
  const task = await db.tasks.update({
    where: { id: taskId },
    data: { status: 'completed', completed_at: new Date() }
  });

  // Get next stage
  const nextStage = await db.stages.findFirst({
    where: {
      template_id: task.workflow.template_id,
      stage_order: { gt: currentStageOrder }
    },
    orderBy: { stage_order: 'asc' }
  });

  if (nextStage) {
    // Create next task + update workflow stage
  } else {
    // No more stages - workflow complete
    await db.workflows.update({
      where: { id: task.workflow_id },
      data: { status: 'completed' }
    });
  }
}
```

### 2. JSONB for Flexibility
- Custom fields on contacts: `metadata` JSONB column
- Workflow status definitions: `statuses` JSONB array
- Form field mappings: `field_mappings` JSONB object
- Activity details: `details` JSONB object

### 3. Clerk Handles Auth
- No custom auth tables
- Organizations = tenants
- Webhook syncs users to local table for app data
- Roles via Clerk's built-in system

### 4. One Tasks Table
Both workflow tasks AND manual tasks live in the same table:
- Workflow task: has `workflow_id` and `stage` fields
- Manual task: `workflow_id` nullable, `task_type = 'manual'`

### 5. Assets Storage
- V1: Vercel Blob (simple, integrated)
- Future: Cloudflare R2 (cheaper, unlimited egress)
- Storage quota tracked per organization

### 6. Polymorphic Relations
`notes` and `activity_log` use `entity_type` + `entity_id`:
- Can reference workflows, contacts, or tasks
- No need for separate `workflow_notes`, `contact_notes` tables

---

## Development Guidelines

### Component Organization
- Use PascalCase for components
- Use camelCase for hooks (prefix with `use`)
- Route folders in kebab-case (`/my-work`, `/workflow-blueprints`)
- Co-locate entity-specific logic by domain

### Styling
- Use Tailwind utilities, maintain order: layout, spacing, color, state
- Theme all colors through CSS variables (defined in `globals.css`)
- Use semantic tokens from `lib/design-tokens.ts`
- Never hardcode color values

### Type Safety
- All types in `types/index.ts`
- Use `type` for unions/primitives
- Use `interface` for objects that may be extended
- Avoid `any` - lift types to shared location

### Import Paths
- Use `@/*` alias (resolves to `frontend/*`)
- Never use deep relative paths like `../../../components`

### Testing (Post-V1)
- Add React Testing Library or Vitest
- Co-locate tests: `Component.test.tsx`
- Integration tests in `app/__tests__/`

---

## Open Questions

To resolve before/during build:

1. **Formstack account access** - Need credentials and form IDs to test integration
2. **Existing data migration** - Any real data in old system that needs migration?
3. **Specific fields required** - Get final list of contact/workflow fields from FCSO
4. **Status workflow specifics** - Confirm the exact stages for their process
5. **User list** - Who needs accounts for initial pilot?
6. **Compliance requirements** - Any specific security certifications needed at launch?
7. **File storage limits** - What's acceptable per-org quota for v1?

---

## References

- **Old Codebase** - Use for domain knowledge, not implementation
  - Data model: `src/integrations/supabase/types.ts`
  - UI components: `src/components/ui/`
  - Business logic examples: `src/contexts/AuthContext.ts`
  - Formstack integration: `supabase/functions/formstack*/`

- **Documentation Files**
  - `CLAUDE.md` - Codebase and development instructions
  - `AGENTS.md` - Repository guidelines
  - `byte reference/MVP_ROADMAP.md` - Original MVP plan
  - `byte reference/CODEBASE_AUDIT.md` - Why we're rebuilding
  - `byte reference/SCHEMA_BREAKDOWN.md` - Old vs new data model
  - `byte reference/UI_ELEMENTS.md` - UI components reference

---

## Current Status (February 6, 2026)

### âœ… Complete
- Next.js 16 project scaffold
- Clerk integration (basic)
- Layout components (sidebar, header)
- Settings page structure with tabs
- Mock data for development
- shadcn/ui component library
- Tailwind CSS v4 configuration
- Theme system (light/dark)
- Design tokens and semantic colors

### ğŸš§ In Progress
- None (awaiting direction)

### â³ Next Steps
1. Restore/recreate Clerk middleware for route protection
2. Set up Neon database + Drizzle ORM
3. Implement Contacts CRUD
4. Build Workflows module
5. Add Assets/Documents management
6. Connect Formstack webhook

---

## Notes

- This is a **2-week MVP**, not enterprise software
- Hardcode things initially, add configurability later
- Ship first, optimize later
- Focus on the core loop: Form â†’ Contact â†’ Workflow â†’ Tasks â†’ Documents
- Everything else is scope creep
